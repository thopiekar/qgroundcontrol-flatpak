app-id: org.mavlink.qgroundcontrol
branch: stable
runtime: org.kde.Platform
runtime-version: '5.12'
sdk: org.kde.Sdk
sdk-extensions:
command: QGroundControl
finish-args:
  # X11 + XShm access
  - --share=ipc
  - --socket=fallback-x11
  # Wayland access
  - --socket=wayland
  # OpenGL rendering
  - --device=dri
  # Networking
  - --share=network
  # Pulseaudio
  - --socket=pulseaudio
  # Needs to save files locally
  - --filesystem=home
modules:
  - name: qgroundcontrol
    buildsystem: cmake
    config-opts:
      - -DCCACHE:BOOL=FALSE
      - -DCMAKE_BUILD_TYPE:STRING=Release
      - -DCOMPILE_QML:BOOL=TRUE
      - -DDEBUG_QML:BOOL=FALSE
    sources:
      - type: git
        url: "https://github.com/thopiekar/qgroundcontrol.git"
        branch: "master"
